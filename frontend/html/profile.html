<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ether Lottery - Profile</title>
    <!-- Modular CSS -->
    <link rel="stylesheet" href="../css/variables.css?v=6" />
    <link rel="stylesheet" href="../css/base.css?v=6" />
    <link rel="stylesheet" href="../css/navigation.css?v=6" />
    <link rel="stylesheet" href="../css/buttons.css?v=6" />
    <link rel="stylesheet" href="../css/icons.css?v=6" />
    <link rel="stylesheet" href="../css/components.css?v=6" />
    <link rel="stylesheet" href="../css/responsive.css?v=6" />
    <link rel="stylesheet" href="../css/footer.css?v=11" />
    <link rel="stylesheet" href="../css/profile.css?v=6" />
    <script src="../js/theme.js"></script>
  </head>
  <body>
    <div id="app">
      <!-- Top Navigation -->
      <nav class="top-nav">
        <div class="nav-container">
          <div class="nav-left">
            <div class="logo">
              <img src="../icon/logo.png" alt="Logo" class="logo-img" />
              <span>Ether Lottery</span>
            </div>
            <div class="network-status">
              <span class="status-dot"></span>
              <span id="network-name">Sepolia Testnet</span>
            </div>
          </div>
          <div class="nav-right">
            <a href="notifications.html" class="icon-btn" title="Thông báo">
              <img
                src="../icon/thong_bao.png"
                alt="Notifications"
                class="nav-icon-img"
              />
            </a>
            <a href="profile.html" class="icon-btn active" title="Profile">
              <img
                src="../icon/tai_khoan.png"
                alt="Profile"
                class="nav-icon-img"
              />
            </a>
            <a href="settings.html" class="icon-btn" title="Settings">
              <img
                src="../icon/cai_dat.png"
                alt="Settings"
                class="nav-icon-img"
              />
            </a>
            <a href="index.html" class="btn-secondary">← Trở về</a>
          </div>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="container">
        <div class="profile-page">
          <!-- Page Header -->
          <div class="page-header">
            <h1>
              <img src="../icon/ho_so.png" alt="Profile" class="inline-icon" />
              Hồ Sơ Người Chơi
            </h1>
            <p class="page-subtitle">
              Thông tin tài khoản MetaMask và lịch sử tham gia
            </p>
          </div>

          <!-- Profile Card -->
          <div class="profile-card">
            <!-- User Info Section -->
            <div class="profile-section">
              <div class="profile-header-section">
                <div class="avatar-container">
                  <img
                    id="user-avatar"
                    src="../icon/tai_khoan.png"
                    alt="Avatar"
                    class="user-avatar"
                  />
                  <button
                    class="avatar-edit-btn"
                    id="edit-avatar-btn"
                    title="Thay đổi avatar"
                  >
                    <img src="../icon/cai_dat.png" alt="Edit" />
                  </button>
                </div>
                <div class="user-info-main">
                  <h2 id="user-username">Loading...</h2>
                  <p class="user-email" id="user-email">loading@example.com</p>
                  <span class="user-role-badge" id="user-role">User</span>
                </div>
              </div>
            </div>

            <div class="profile-section">
              <h2>Thông Tin Tài Khoản</h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Tên đăng nhập:</span>
                  <span class="info-value" id="account-username">-</span>
                </div>

                <div class="info-item">
                  <span class="info-label">Email:</span>
                  <span class="info-value" id="account-email">-</span>
                </div>

                <div class="info-item">
                  <span class="info-label">Số dư tài khoản:</span>
                  <span class="info-value" id="account-balance">0 ETH</span>
                </div>

                <div class="info-item">
                  <span class="info-label">Ngày tạo:</span>
                  <span class="info-value" id="account-created">-</span>
                </div>

                <div class="info-item">
                  <span class="info-label">Lần đăng nhập cuối:</span>
                  <span class="info-value" id="last-login">-</span>
                </div>

                <div class="info-item">
                  <span class="info-label">Thời gian hiện tại:</span>
                  <span class="info-value" id="current-time">--:-- --</span>
                </div>
              </div>
            </div>

            <div class="profile-section">
              <h2>Thông Tin Ví</h2>

              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Địa chỉ ví:</span>
                  <span class="info-value" id="wallet-address">
                    Chưa kết nối
                  </span>
                </div>

                <div class="info-item">
                  <span class="info-label">Số dư ETH:</span>
                  <span class="info-value" id="wallet-balance">
                    0.0000 ETH
                  </span>
                </div>

                <div class="info-item">
                  <span class="info-label">Network:</span>
                  <span class="info-value" id="network-name">
                    Sepolia Testnet
                  </span>
                </div>
              </div>

              <div class="wallet-actions">
                <button class="btn-secondary" id="connect-wallet-btn">
                  Kết nối ví MetaMask
                </button>
              </div>
            </div>

            <!-- Quick Actions Section -->
            <div class="profile-section">
              <h2>
                <img
                  src="../icon/cai_dat.png"
                  alt="Actions"
                  class="inline-icon"
                />
                Thao Tác Nhanh
              </h2>
              <div class="quick-actions">
                <button
                  class="action-btn"
                  onclick="window.location.href='change-password.html?role=user'"
                >
                  <img src="../icon/mat_khau.png" alt="Password" />
                  <span>Đổi Mật Khẩu</span>
                </button>
                <button class="action-btn" id="edit-profile-btn">
                  <img src="../icon/cai_dat.png" alt="Edit" />
                  <span>Chỉnh Sửa Profile</span>
                </button>
              </div>
            </div>

            <!-- Stats Section -->
            <div class="profile-section">
              <h2>
                <img
                  src="../icon/thong_ke.png"
                  alt="Stats"
                  class="inline-icon"
                />
                Thống Kê
              </h2>

              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-icon">
                    <img src="../icon/ve.png" alt="Ticket" />
                  </div>
                  <div class="stat-value" id="total-entries">0</div>
                  <div class="stat-label">Lần tham gia</div>
                </div>

                <div class="stat-card">
                  <div class="stat-icon">
                    <img src="../icon/cup.png" alt="Trophy" />
                  </div>
                  <div class="stat-value" id="total-wins">0</div>
                  <div class="stat-label">Lần thắng</div>
                </div>

                <div class="stat-card">
                  <div class="stat-icon">
                    <img src="../icon/tui_tien.png" alt="Money" />
                  </div>
                  <div class="stat-value" id="total-spent">0.000</div>
                  <div class="stat-label">ETH đã chi</div>
                </div>

                <div class="stat-card">
                  <div class="stat-icon">
                    <img src="../icon/eth_thang.png" alt="Won" />
                  </div>
                  <div class="stat-value" id="total-won">0.000</div>
                  <div class="stat-label">ETH đã thắng</div>
                </div>
              </div>
            </div>

            <!-- My Tickets Section -->
            <div class="profile-section">
              <h2>
                <img src="../icon/ve.png" alt="Tickets" class="inline-icon" />
                Vé Số Đã Mua
              </h2>

              <div class="tickets-container">
                <div class="tickets-list" id="tickets-list">
                  <!-- Tickets will be loaded here -->
                  <div class="loading-tickets">Đang tải...</div>
                </div>
                <div class="pagination" id="tickets-pagination">
                  <!-- Pagination will be added here -->
                </div>
              </div>
            </div>

            <!-- History Section -->
            <div class="profile-section">
              <h2>
                <img
                  src="../icon/lich_su_tham_gia.png"
                  alt="History"
                  class="inline-icon"
                />
                Lịch Sử Tham Gia
              </h2>

              <div class="history-table">
                <div class="table-header">
                  <div>Thời gian</div>
                  <div>Loại giao dịch</div>
                  <div>Số tiền</div>
                  <div>Kết quả</div>
                </div>

                <div class="history-list" id="history-list">
                  <div class="loading-history">Đang tải lịch sử...</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Chỉnh Sửa Profile</h2>
          <button class="close-modal" id="close-edit-modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="edit-profile-form">
            <div class="form-group">
              <label for="edit-username">Tên đăng nhập</label>
              <input
                type="text"
                id="edit-username"
                class="form-input"
                required
              />
            </div>
            <div class="form-group">
              <label for="edit-email">Email</label>
              <input type="email" id="edit-email" class="form-input" required />
            </div>
            <div class="form-group">
              <label for="edit-avatar">URL Avatar</label>
              <input
                type="url"
                id="edit-avatar"
                class="form-input"
                placeholder="https://..."
              />
              <small>Để trống nếu không muốn thay đổi</small>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn-primary">Lưu Thay Đổi</button>
              <button type="button" class="btn-secondary" id="cancel-edit">
                Hủy
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Web3.js for MetaMask integration -->
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
    <script src="../js/api.js?v=6"></script>
    <script src="../js/profile.js?v=6"></script>

    <!-- Footer Component -->
<footer class="footer">
  <div class="footer-container">
    <!-- Footer Top -->
    <div class="footer-top">
      <!-- Brand Section -->
      <div class="footer-section footer-brand">
        <div class="footer-logo">
          <img
            src="../icon/logo.png"
            alt="Ether Lottery"
            class="footer-logo-img"
          />
          <h3>Ether Lottery</h3>
        </div>
        <p class="footer-description">
          Trò chơi xổ số blockchain an toàn, minh bạch và công bằng. Cơ hội
          trúng thưởng lớn với công nghệ Web3.
        </p>
        <!-- Social Links -->
        <div class="footer-socials">
          <a href="#" class="social-link" title="Twitter">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2s9 5 20 5a9.5 9.5 0 00-9-5.5c4.75 2.25 7-7 7-7a5.5 5.5 0 01-4.3 2.1z"
              />
            </svg>
          </a>
          <a href="#" class="social-link" title="Discord">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M21 16.5c0 .828-.504 2.907-2.622 5.646-1.193 1.543-2.565 2.543-3.915 2.543-.787 0-1.285-.39-2.047-.9-.971-.66-1.876-.9-2.916-.9-1.04 0-1.945.24-2.916.9-.762.51-1.26.9-2.047.9-1.35 0-2.722-1-3.915-2.543C3.504 19.407 3 17.328 3 16.5 3 9.097 8.627 3 15.5 3c3.584 0 6.793 1.667 8.5 4.333"
              />
            </svg>
          </a>
          <a href="#" class="social-link" title="Telegram">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M21.198 2.433a1.5 1.5 0 00-1.798.278L3.5 17.613v3.387H7l14.902-16.5a1.5 1.5 0 00-1.304-2.467z"
              />
            </svg>
          </a>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="footer-section">
        <h4 class="footer-title">Liên Kết Nhanh</h4>
        <ul class="footer-links">
          <li><a href="./index.html">Trang Chủ</a></li>
          <li><a href="./profile.html">Hồ Sơ</a></li>
          <li><a href="./notifications.html">Thông Báo</a></li>
          <li><a href="./settings.html">Cài Đặt</a></li>
        </ul>
      </div>

      <!-- Support -->
      <div class="footer-section">
        <h4 class="footer-title">Hỗ Trợ</h4>
        <ul class="footer-links">
          <li><a href="#">Câu Hỏi Thường Gặp</a></li>
          <li><a href="#">Liên Hệ</a></li>
          <li><a href="#">Hướng Dẫn</a></li>
          <li><a href="#">Trợ Giúp</a></li>
        </ul>
      </div>

      <!-- Legal -->
      <div class="footer-section">
        <h4 class="footer-title">Pháp Lý</h4>
        <ul class="footer-links">
          <li><a href="#">Điều Khoản Dịch Vụ</a></li>
          <li><a href="#">Chính Sách Riêng Tư</a></li>
          <li><a href="#">Tuyên Bố Miễn Trách</a></li>
          <li><a href="#">Chơi Có Trách Nhiệm</a></li>
        </ul>
      </div>
    </div>

    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p class="copyright">
          &copy; 2024-2026 <strong>Ether Lottery</strong>. Mọi quyền được bảo
          lưu.
        </p>
        <p class="disclaimer">
          ⚠️ Cảnh báo: Trò chơi này chỉ dành cho người trưởng thành. Chơi có
          trách nhiệm.
        </p>
      </div>
      <div class="footer-status">
        <span class="status-item">
          <span class="status-dot"></span>
          Sepolia Testnet
        </span>
        <span class="status-item">
          <span class="status-dot active"></span>
          Trực Tuyến
        </span>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>